<div class="jobs-container">
  <ng-container *ngIf="jobs$ | async as Jobs">
    <table mat-table [dataSource]="Jobs" class="mat-elevation-z8">
      <!-- job_title Column -->
      <ng-container matColumnDef="job_title">
        <th mat-header-cell *matHeaderCellDef> Title </th>
        <td mat-cell *matCellDef="let element"> {{element.job_title}} </td>
      </ng-container>

      <!-- customer Column -->
      <ng-container matColumnDef="customer">
        <th mat-header-cell *matHeaderCellDef> Customer </th>
        <td mat-cell *matCellDef="let element"> {{element.customer}} </td>
      </ng-container>

      <!-- priority Column -->
      <ng-container matColumnDef="priority">
        <th mat-header-cell *matHeaderCellDef> Priority </th>
        <td mat-cell *matCellDef="let element"> {{element.priority}} </td>
      </ng-container>

      <!-- assigned_to Column -->
      <ng-container matColumnDef="assigned_to">
        <th mat-header-cell *matHeaderCellDef> Assigned to </th>
        <td mat-cell *matCellDef="let element">
          <div class="avatar">
            <mat-card *ngFor="let assign of element.assigned_to">
              <mat-card-header>
                <img mat-card-avatar [src]="assign.image_url">
                <mat-card-subtitle>{{assign.name}}</mat-card-subtitle>
                <mat-card-subtitle>{{assign.designation}}</mat-card-subtitle>
              </mat-card-header>
            </mat-card>
          </div>
        </td>
      </ng-container>


      <!-- status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef> Status </th>
        <td mat-cell *matCellDef="let element"> {{element.status}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let element; columns: displayedColumns;" [routerLink]="['/jobs',element.id,'details']"> >
      </tr>
    </table>
  </ng-container>
</div>
